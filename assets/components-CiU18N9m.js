import{j as i,r as M,R as Ft}from"./vendor-mui-BPgiYWtU.js";import{r as Tt}from"./utils-ChsWKmGh.js";import{l as Et,A as Ht,X as Pt,d as zt,a as Nt,b as yt,T as Dt}from"./vendor-visx-DTrp-NVr.js";function Bt(f,a){const r=f.touches[0]||f.changedTouches[0];return{...f,type:a,clientX:r.clientX,clientY:r.clientY,button:0,buttons:1,preventDefault:f.preventDefault.bind(f),stopPropagation:f.stopPropagation.bind(f)}}function Ut({grid:f,rows:a,cols:r,gridRef:w,onGridMouseDown:g,marquee:d,CELL_W:x,CELL_H:T,gridName:B,useGridInput:X=!0,numericInputs:G,onNumericInputChange:H}){const Y=z=>{z.preventDefault();const k=Bt(z,"mousedown");g(B,k)};return!X&&G&&H?i.jsx("div",{ref:w,style:{display:"grid",gridTemplateColumns:`repeat(${r}, ${x}px)`,gap:0},children:f.flatMap((z,k)=>z.map((R,N)=>{const E=`${k}-${N}`;if(k===4||k===5){const D=G[k===4?0:1][N]||0;return i.jsx("div",{className:"checkbox-grid-item",style:{width:x,height:T},children:i.jsx("input",{type:"number",min:"0",value:D===0?"":D,onChange:$=>{const K=$.target.value,q=K===""?0:Math.max(0,parseInt(K)||0);H(B,k,N,q)},className:"numeric-grid-input",placeholder:"0",style:{width:"100%",height:"100%",border:"1px solid var(--input-border)",borderRadius:"2px",background:"var(--input-bg)",color:"var(--input-text)",textAlign:"center",fontSize:"16px",padding:"0",margin:"0",boxSizing:"border-box",overflow:"hidden",textOverflow:"ellipsis"}})},E)}else return i.jsx("div",{className:"checkbox-grid-item",style:{width:x,height:T}},E)}))}):i.jsx("div",{ref:w,onMouseDown:z=>g(B,z),onTouchStart:Y,style:{display:"grid",gridTemplateColumns:`repeat(${r}, ${x}px)`,gap:0},children:f.flatMap((z,k)=>z.map((R,N)=>{const E=`${k}-${N}`;let D=!1;if(d.active&&d.grid===B){const $=Math.min(d.startR,d.endR),K=Math.max(d.startR,d.endR),q=Math.min(d.startC,d.endC),m=Math.max(d.startC,d.endC);D=k>=$&&k<=K&&N>=q&&N<=m}return i.jsx("div",{title:`+${B==="top"?N+1:(N+1)*10}`,className:"checkbox-grid-item",style:{width:x,height:T},children:i.jsx("input",{type:"checkbox",readOnly:!0,checked:D?!d.initialState:R,className:"checkbox-grid-input"})},E)}))})}const $t={Helmet:"/Honing-Forecast/Icons/Equipments/Helmet.webp",Shoulder:"/Honing-Forecast/Icons/Equipments/Shoulder.webp",Chest:"/Honing-Forecast/Icons/Equipments/Chest.webp",Pants:"/Honing-Forecast/Icons/Equipments/Pants.webp",Glove:"/Honing-Forecast/Icons/Equipments/Gloves.webp",Weapon:"/Honing-Forecast/Icons/Equipments/Weapon.webp",Red:"/Honing-Forecast/Icons/Materials/Red.webp",Blue:"/Honing-Forecast/Icons/Materials/Blue.webp",Leaps:"/Honing-Forecast/Icons/Materials/Leap.webp",Shards:"/Honing-Forecast/Icons/Materials/Shard.webp",Oreha:"/Honing-Forecast/Icons/Materials/Oreha.webp",Gold:"/Honing-Forecast/Icons/Materials/Gold.webp",Silver:"/Honing-Forecast/Icons/Materials/Silver.webp","Red juice":"/Honing-Forecast/Icons/Materials/Red juice.webp","Blue juice":"/Honing-Forecast/Icons/Materials/Blue juice.webp","Special leaps":"/Honing-Forecast/Icons/Materials/Special leap.webp","Forecast Icon":"/Honing-Forecast/forecast icon.webp"};function At({iconName:f,display_text:a=null,size:r=20,style:w}){const g=$t[f];return g?i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",...w},children:[i.jsx("span",{children:a===null?f:a}),i.jsx("img",{src:g,alt:f,style:{width:r,height:r,objectFit:"contain"},onError:d=>{console.log("EquipmentIcon: Error loading image from "+g,d);const x=d.target;x.style.display="none";const T=x.parentElement;T&&(T.innerHTML=f)}})]}):i.jsx("span",{style:w,children:f})}function Xt({columnDefs:f,labels:a,sheet_values:r,set_sheet_values:w,readOnly:g=!1,secondaryValues:d,setSecondaryValues:x}){const[T,B]=M.useState(null),[X,G]=M.useState(!1),[H,Y]=M.useState(null),z=M.useRef(null),k=M.useRef(null),R=M.useRef(void 0),N=(m,s)=>Math.min(Math.max(m,0),s),E=M.useCallback(m=>Math.min(Math.max(m,0),Math.max(0,f.length-1)),[f.length]),D=(m,s)=>{if(!T)return!1;const{startRow:l,startCol:o,endRow:n,endCol:v}=T,h=Math.min(l,n),y=Math.max(l,n),p=Math.min(o,v),b=Math.max(o,v);return m>=h&&m<=y&&s>=p&&s<=b},$=(m,s,l)=>{if(g)return;const o=a[m];if(o){if(s===0){let n=l.replace(/[^0-9]/g,"");n=n.replace(/^0+(?=\d)/,""),n.length>10&&(n="999999999");const v={...r};v[o]=n,w(v)}else if(s===1&&x&&d){let n=l.replace(/[^0-9.]/g,"");const v=n.indexOf(".");v!==-1&&(n=n.slice(0,v+1)+n.slice(v+1).replace(/\./g,"")),n.length>20&&(n=n.slice(0,20));const h={...d};h[o]=n,x(h)}}},K=(m,s)=>{const l=a[m];if(l&&s===1&&x&&d){let o=d[l]??"",n=String(o).replace(/[^0-9.]/g,"");const v=n.indexOf(".");let h=v!==-1;v!==-1&&(n=n.slice(0,v+1)+n.slice(v+1).replace(/\./g,""));let y=h?n.slice(0,n.indexOf(".")):n,p=h?n.slice(n.indexOf(".")+1):"";y=y.replace(/^0+(?=\d)/,""),y===""&&(p!==""||h)&&(y="0"),p=p.replace(/0+$/g,"");let b=y;if(p.length>0&&(b+="."+p),b.length>20&&(b=b.slice(0,20)),b!==(d[l]??"")){const j={...d};j[l]=b,x(j)}}};M.useEffect(()=>{const m=z.current;if(!m)return;const s=l=>{if(l.button!==0)return;const o=l.target,n=o==null?void 0:o.closest("[data-row]");if(!n)return;const v=N(Number(n.dataset.row),a.length-1),h=E(Number(n.dataset.col??"0"));k.current={startX:l.clientX,startY:l.clientY,startRow:v,startCol:h,startedOnInput:!!(o!=null&&o.closest("input,textarea")),moved:!1},G(!0),B(T?null:{startRow:v,startCol:h,endRow:v,endCol:h})};return m.addEventListener("mousedown",s,!0),()=>m.removeEventListener("mousedown",s,!0)},[a.length,E,T]),M.useEffect(()=>{const m=l=>{const o=k.current;if(!o)return;const n=Math.abs(l.clientX-o.startX),v=Math.abs(l.clientY-o.startY);if((n>5||v>5)&&!o.moved&&(o.moved=!0,o.startedOnInput)){R.current=document.body.style.userSelect;try{document.body.style.userSelect="none"}catch{}document.activeElement instanceof HTMLElement&&document.activeElement.blur()}const y=document.elementFromPoint(l.clientX,l.clientY),p=y==null?void 0:y.closest("[data-row]");if(p){const b=N(Number(p.dataset.row),a.length-1),j=E(Number(p.dataset.col??"0"));B(W=>W?{...W,endRow:b,endCol:j}:{startRow:b,startCol:j,endRow:b,endCol:j})}},s=()=>{var l;if((l=k.current)!=null&&l.moved&&R.current!==void 0){try{document.body.style.userSelect=R.current}catch{}R.current=void 0}k.current=null,G(!1)};return document.addEventListener("mousemove",m),document.addEventListener("mouseup",s),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",s)}},[a.length,E]),M.useEffect(()=>{const m=l=>{const o=document.activeElement;if(o&&(o.tagName==="INPUT"||o.tagName==="TEXTAREA")||!T)return;const{startRow:n,startCol:v,endRow:h,endCol:y}=T,p=Math.min(n,h),b=Math.max(n,h),j=Math.min(v,y),W=Math.max(v,y),I=[];for(let _=p;_<=b;_++){const nt=[];for(let ot=j;ot<=W;ot++){const S=a[_];nt.push(r[S]==""?"0":r[S])}I.push(nt.join("	"))}const Z=I.join(`
`);l.clipboardData?(l.clipboardData.setData("text/plain",Z),l.preventDefault()):window.clipboardData&&(window.clipboardData.setData("Text",Z),l.preventDefault()),Y(I.map(_=>_.split("	")))},s=l=>{var y;if(g)return;const o=((y=l.clipboardData)==null?void 0:y.getData("text/plain"))??"";if(!o)return;const n=o.split(/[\t, \n]+/).map(p=>p.trim()).filter(Boolean);let v=(T==null?void 0:T.startRow)??0;if(!T){const p=document.activeElement,b=p==null?void 0:p.closest("[data-row]");b&&(v=N(Number(b.dataset.row),0))}const h={...r};for(let p=0;p<n.length;p++){const b=v+p;if(b<a.length){let j=n[p].trim().replace(/[^0-9]/g,"");j=j.replace(/^0+(?=\d)/,""),j.length>10&&(j="999999999"),h[a[b]]=j}}w(h),l.preventDefault()};return document.addEventListener("copy",m),document.addEventListener("paste",s),()=>{document.removeEventListener("copy",m),document.removeEventListener("paste",s)}},[T,r,a,w,g]);const q=m=>{if(!g&&(m.key==="Backspace"||m.key==="Delete")){if(!T)return;m.preventDefault();const{startRow:s,startCol:l,endRow:o,endCol:n}=T,v=Math.min(s,o),h=Math.max(s,o),y=Math.min(l,n),p=Math.max(l,n);let b={...r},j=d?{...d}:void 0;for(let W=v;W<=h;W++){const I=a[W];for(let Z=y;Z<=p;Z++)Z===0?b[I]="0":Z===1&&j&&W<7&&(j[I]="0")}w(b),x&&j&&x(j)}};return i.jsxs("div",{ref:z,onKeyDown:q,tabIndex:0,style:{display:"flex",padding:6,outline:"none",minHeight:"200px"},children:[i.jsx("div",{style:{...f[0],width:50},children:[""].concat(a).map(m=>i.jsx("div",{style:{height:36,color:"var(--text-secondary)",display:"flex",alignItems:"center",justifyContent:"flex-end",paddingRight:8,whiteSpace:"nowrap",fontSize:"var(--font-size-sm)",paddingTop:8},children:i.jsx(At,{iconName:m,size:28})},m))}),i.jsxs("div",{style:{flex:1},children:[i.jsx("div",{style:{display:"grid",gridTemplateColumns:f.map(()=>"1fr").join(" "),gap:0,marginBottom:4,height:36},children:f.map((m,s)=>i.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-primary)",textWrap:"nowrap",fontWeight:500,fontSize:"var(--font-size-md)"},children:m.headerName},`hdr-${s}`))}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:f.map(()=>"1fr").join(" "),gap:0},children:a.map((m,s)=>f.map((l,o)=>{var n,v,h,y;return i.jsx("div",{"data-row":s,"data-col":o,style:{height:36,display:"flex",alignItems:"center"},onMouseEnter:()=>{X&&k.current&&B(p=>p?{...p,endRow:s,endCol:o}:{startRow:s,startCol:o,endRow:s,endCol:o})},children:i.jsx("input",{type:"text",readOnly:g||o===1&&s>=7,value:o===0?r[m]??"":(d==null?void 0:d[m])??"",onChange:p=>$(s,o,p.target.value),onKeyDown:p=>{p.stopPropagation()},onBlur:()=>K(s,o),onFocus:()=>{B({startRow:s,startCol:o,endRow:s,endCol:o})},style:{width:"100px",height:"100%",padding:"6px 8px",border:"1px solid var(--border-accent)",background:D(s,o)?g||o===1&&s>=7?"var(--grid-cell-selected-readonly)":"var(--grid-cell-selected)":typeof l.cellStyle=="function"?((n=l.cellStyle({value:o===0?r[m]??"":(d==null?void 0:d[m])??""}))==null?void 0:n.backgroundColor)||"transparent":((v=l.cellStyle)==null?void 0:v.background)||"transparent",color:g||o===1&&s>=7?"var(--grid-cell-text-readonly)":typeof l.cellStyle=="function"?((h=l.cellStyle({value:o===0?r[m]??"":(d==null?void 0:d[m])??""}))==null?void 0:h.color)||"var(--grid-cell-text)":((y=l.cellStyle)==null?void 0:y.color)||"var(--grid-cell-text)",fontSize:"var(--font-size-sm)",outline:"none",boxSizing:"border-box",cursor:g||o===1&&s>=7?"default":"text",opacity:o===1&&s>=7?.5:1},placeholder:"0"})},`${m}-${o}`)}))})]})]})}const V=50,pt=50,tt=50,it=50,ft=10,Q=["var(--series-red)","var(--series-blue)","var(--series-leaps)","var(--series-shards)","var(--series-oreha)","var(--series-gold)","var(--series-silver)"];function et(f,a=3){if(!isFinite(f))return"";const r=Math.abs(f);let w="",g=1;r>=1e9?(w="B",g=1e9):r>=1e6?(w="M",g=1e6):r>=1e3&&(w="K",g=1e3);const d=f/g;return parseFloat(Number(d.toFixed(a)).toPrecision(a)).toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:a})+w}function Gt(f,a){const r=f/100,w=Math.abs(1-r);if(w==0)return 0;let g=Math.ceil(-Math.log10(w));const d=Math.floor(Math.log10(a))-2;return g=Math.max(0,Math.min(g,d)),g}function at(f){const a=f.length;if(a===0)return[];let r=-1;for(let x=0;x<a;x++)f[x]!==0&&(r=x);const w=[];let g=0,d=!0;if(r===-1)return new Array(a).fill(0);for(let x=0;x<a;x++)f[x]!==0?(g=f[x],x===r&&(d=!1)):x>r&&(d?g=0:(g=f[r],d=!0)),w.push(g);return w}function Mt(f){const a=f.map(w=>w.y),r=at(a);return f.map((w,g)=>({x:w.x,y:r[g]}))}function Yt({title:f,labels:a,counts:r,mins:w,maxs:g,width:d=640,height:x=320,budgets:T=null,additionalBudgets:B=null,hasSelection:X=!1,isLoading:G=!1,cumulative:H=!0,lockXAxis:Y=!1,lockedMins:z=null,lockedMaxs:k=null}){var ht,gt;const[R,N]=M.useState(()=>[!0,!0,!1,!1,!1,!0,!1]),[E,D]=M.useState(null),[$,K]=M.useState(null),q=M.useRef(null),m=M.useCallback(t=>()=>{D(t)},[D]),s=M.useMemo(()=>r?!Y||!k?r:Tt(r,g,k):null,[r,Y,k,g]),l=M.useMemo(()=>!Y||!z?w??null:z,[Y,z,w]),o=M.useMemo(()=>!Y||!k?g??null:k,[Y,k,g]),n=((ht=s==null?void 0:s[0])==null?void 0:ht.length)||((gt=r==null?void 0:r[0])==null?void 0:gt.length)||1e3,v=Math.max(...Array.from({length:7},(t,e)=>{var u,c;return(c=(u=s??r)==null?void 0:u[e])==null?void 0:c.reduce((F,C)=>F+C,0)}))||1,h=M.useMemo(()=>{const t=s??r;return t?t.map(e=>{let u=0;for(let c=0;c<e.length&&u<=1;c++)e[c]>0&&u++;return u>1}):new Array(7).fill(!1)},[s,r]),y=M.useMemo(()=>{const t=s??r;return t?t.map(e=>{const u=e.reduce((C,A)=>C+A,0)||1;let c=0;const F=new Array(e.length);for(let C=0;C<e.length;C++)c+=e[C],F[C]=c/u;return F}):null},[s,r]),p=M.useMemo(()=>{const t=s??r;if(!t)return null;const e=v;return t.map(u=>u.map(c=>c/e))},[s,r,v]),b=M.useMemo(()=>{const t=s??r;if(!t)return[];const e=H&&y?y:p||t;let u=Array.from({length:e.length},()=>[]);for(let c=0;c<e.length;c++){let F=!0;for(let C=0;C<e[c].length;C++)u[c].push({x:C,y:e[c][C]}),F=!1;F?u[c]=[{x:0,y:0}]:u[c].push({x:e[c].length,y:e[c][e[c].length-1]})}return u},[s,r,H,y,p]),j=M.useMemo(()=>{if(!b)return 0;if(H)return 1;let t=0;for(let e=0;e<b.length;e++){if(!R[e]||!h[e])continue;let u=Mt(b[e]);for(let c=0;c<b[e].length;c++)t=Math.max(t,u[c].y)}return t},[b,R,h,H]),W=M.useMemo(()=>{if(!r||!g||!o)return!1;const t=r.length;for(let e=0;e<t;e++){const u=r[e],c=g[e],F=o[e];if(c==null||F==null||F>=c)continue;const C=(u==null?void 0:u.length)||n;if(!isFinite(c)||c<=0)continue;const A=c/C,O=Math.max(0,Math.ceil(F/A));if(O<u.length){for(let J=O;J<u.length;J++)if((u[J]??0)>0)return!0}}return!1},[r,g,o,n]),I=M.useMemo(()=>{const t=a.map((e,u)=>u).filter(e=>R[e]&&h[e]);return E==null?t:t.filter(e=>e!==E).concat([E])},[a,R,E,h]),Z=t=>t.x,_=t=>t.y,nt=M.useCallback(t=>{const e=s??r;if(!e)return;const u=Et(t),c=Math.max(1,d-V-pt),F=x-tt-it,C=Math.min(Math.max(((u==null?void 0:u.x)??0)-V,0),c),A=Math.min(n-1,Math.round(C/c*n)),O=H&&y?y:p||e,J=Math.max(1e-9,j),P=O.map((L,U)=>({i:U,y:at(L)[A]/J*F,vis:R[U]&&h[U]})).filter(L=>L.vis);if(P.length===0){D(null);return}const st=F+it-u.y,ut=P.reduce((L,U)=>Math.abs(L.y-st)<Math.abs(U.y-st)?L:U);D(ut.i),K(A)},[s,r,R,h,n,d,x,j,y,p,H]),ot=()=>{D(null),K(null)},S=M.useMemo(()=>{if(E!=null&&h[E])return E;const t=a.indexOf("Gold");return t>=0&&h[t]&&R[t]?t:a.map((u,c)=>c).find(u=>h[u]&&R[u])??null},[E,a,h,R]),mt=S!=null?Q[S]:"var(--text-secondary)",bt=M.useMemo(()=>Array.from({length:ft+1},(e,u)=>Math.min(n,Math.round(n*u/ft))),[n]),wt=M.useCallback(t=>{if(S==null||!l||!o)return et(t);const e=l[S],u=o[S],c=typeof t=="number"?t:Number(t),F=(u-e)/n,C=e+c*F;return et(C)},[S,l,o,n]),lt=M.useMemo(()=>a.some((t,e)=>R[e]&&h[e]),[a,R,h]),jt=M.useMemo(()=>I.map(t=>i.jsx(Ht,{dataKey:a[t],data:Mt(b[t])||[],xAccessor:Z,yAccessor:_,stroke:Q[t],strokeWidth:E===t?4:1.5,opacity:1,onPointerMove:m(t)},a[t])),[I,b,E,a,m]),St=M.useMemo(()=>{const t=s??r;if(!t||!lt)return null;const e=d-V-pt,u=x-tt-it,c=[],F=(C,A,O=7,J="#000")=>{C&&a.forEach((ct,P)=>{if(!R[P]||!h[P])return;const st=Math.max(1e-9,o[P]-l[P]),ut=(C[P]-l[P])/st;let L=Math.max(0,Math.min(n,Math.floor(ut*n)));const U=V+L/Math.max(1,n)*e;L=Math.min(L,n-1);const Ct=H&&y?y[P]:p&&p[P]||t[P],Rt=Math.max(1e-9,j),dt=tt+u-at(Ct)[L]/Rt*u,xt=et(C[P]),kt=Math.max(16,xt.length*8),vt=18;c.push(i.jsxs("g",{children:[i.jsx("circle",{cx:U,cy:dt,r:O,fill:Q[P],stroke:J,strokeWidth:2}),i.jsx("rect",{x:U+6,y:dt-vt-4,width:kt,height:vt,fill:"rgba(0,0,0,0.5)",rx:3,ry:3}),i.jsx("text",{x:U+10,y:dt-8,fill:Q[P],fontSize:12,children:xt})]},`${A}-${P}`))})};return F(T,"poi-primary",5,"#000"),F(B,"poi-additional",7,"var(--bright-green)"),c.length?i.jsx("g",{children:c}):null},[T,B,s,r,lt,R,h,d,x,n,l,o,y,p,H,j,a]),rt=M.useMemo(()=>{const t=s??r;if(S==null||$==null||!t||!R[S]||!h[S])return null;const e=d-V-pt,u=x-tt-it,c=V+$/Math.max(1,n)*e;let F=Math.min($,n-1);const C=H&&y?y[S]:p&&p[S]||t[S],A=Math.max(1e-9,j),O=tt+u-at(C)[F]/A*u;return{cx:c,cy:O,series:S}},[S,$,s,r,R,h,H,y,p,n,d,x,j]);return i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8,padding:16,borderRadius:16,backgroundColor:"var(--bg-tertiary)"},onMouseMove:nt,onMouseLeave:ot,children:[f?i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[i.jsx("div",{style:{color:"var(--text-primary)",fontSize:"var(--font-size-lg)",fontWeight:600},children:f}),Y&&o&&S!=null?i.jsxs("div",{role:"status","aria-live":"polite",title:"Graph may look a bit wonky in some cases, unlock x-axis to get a cleaner graph",style:{display:"inline-flex",alignItems:"center",gap:6,background:"var(--warning-bg)",color:"white",padding:"4px 8px",borderRadius:8,fontSize:12,border:"1px solid var(--warning-border)"},children:["x-axis locked at ",et(o[S]),i.jsx("span",{style:{color:Q[S]},children:a[S].padEnd(Math.max(...a.slice(0,7).map(t=>t.length))," ")}),W&&i.jsx("span",{children:"- Some trials used more and were not plotted"})]}):null]}):null,i.jsx("div",{ref:q,children:i.jsxs(Pt,{height:x,width:d,xScale:{type:"linear",domain:[0,Math.max(0,n)]},yScale:{type:"linear",domain:H?[0,1]:[0,Math.max(1e-6,j)]},theme:zt,children:[i.jsx(Nt,{columns:!0,numTicks:ft,rows:!1}),i.jsx(yt,{orientation:"bottom",label:"Normalized mats cost(0 to pity)",tickValues:bt,tickFormat:wt,tickLabelProps:()=>({fill:mt,fontSize:11,angle:-0})}),i.jsx(yt,{orientation:"left",label:H?"Cumulative Probability of Success":"Probability distribution",tickValues:(()=>{if(H){const t=[];for(let e=0;e<=10;e++)t.push(e/10);return t}else{const t=[];for(let e=0;e<=10;e++)t.push(j*e/10);return t}})(),tickFormat:t=>((typeof t=="number"?t:Number(t))*100).toFixed(0)+"%",tickLabelProps:()=>({fill:mt,fontSize:11})}),jt,St,rt&&i.jsx("g",{children:i.jsx("circle",{cx:rt.cx,cy:rt.cy,r:4.5,fill:Q[rt.series],stroke:"#fff",strokeWidth:2})}),i.jsx(Dt,{snapTooltipToDatumX:!0,snapTooltipToDatumY:!0,showSeriesGlyphs:!1,renderTooltip:()=>{if(S==null||$==null||!l||!o)return null;const t=l[S],e=o[S],u=Math.max(1e-9,e-t),c=t+($+.5)*(u/n),C=(s??r)[S].slice(0,$+1).reduce((J,ct)=>J+ct,0)/v*100,A=Gt(C,v),O=C.toFixed(A);return i.jsxs("div",{style:{color:"var(--text-primary)"},children:[i.jsx("div",{style:{color:Q[S],fontWeight:600},children:a[S]}),i.jsx("div",{children:"In a room of 100 people,"}),i.jsxs("div",{children:[O," used less than ",et(c,3)," ",a[S]]})]})}})]})}),i.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:10},children:a.map((t,e)=>h[e]?i.jsxs("button",{onClick:()=>{N(u=>u.map((c,F)=>F===e?!c:c)),e===E&&R[e]?D(null):D(e)},style:{display:"flex",alignItems:"center",gap:6,background:"transparent",border:"1px solid var(--border-secondary)",padding:"2px 6px",cursor:"pointer",opacity:R[e]?1:.4},children:[i.jsx("span",{style:{width:10,height:10,background:Q[e],display:"inline-block"}}),i.jsx("span",{style:{color:"var(--text-secondary)",fontSize:12},children:t})]},t):null)}),!lt&&i.jsxs("div",{children:[i.jsx("div",{style:{color:"var(--text-secondary)",fontSize:50,alignSelf:"center",justifySelf:"center",marginTop:-200},children:X?G?"Loading...":"Nothing to plot, couple possibilities:":"Nothing to plot, tick an upgrade!"}),i.jsx("div",{style:{fontSize:12},children:G&&X?"Please allow up to ~5s, if it still doesnt load then gg":""}),i.jsx("div",{style:{fontSize:12},children:G&&X?"Also the first run is slower because it has to spin up WebAssembly":""}),i.jsx("div",{style:{fontSize:12},children:!G&&X?"1. All your ticks have 100% success rate(+1 to +3)":""}),i.jsx("div",{style:{fontSize:12},children:!G&&X?"2. The x-axis was locked at too high a value, so everything fell within the first pixel/tick.(Both situations are due to every point landing on the same x value)":""})]})]})}const Kt=Ft.memo(Yt);export{Ut as C,Kt as G,At as I,Xt as S};
//# sourceMappingURL=components-CiU18N9m.js.map
